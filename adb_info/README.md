```markdown
# Android System Information Collector

![Project Logo](https://i.imgur.com/YourImageLink.png) *(Замените ссылку на актуальное изображение при необходимости)*

## Описание

**Android System Information Collector** — это Python-скрипт, предназначенный для сбора подробной информации о подключенных Android-устройствах через ADB (Android Debug Bridge). Скрипт автоматически обнаруживает все подключенные устройства, собирает широкий спектр данных о каждом из них и генерирует структурированные отчеты в форматах HTML и текстовом. Это полезно для системных администраторов, разработчиков и энтузиастов, желающих получить полное представление о состоянии и конфигурации своих устройств.

## Основные Возможности

- **Сбор информации с нескольких устройств**: Автоматическое обнаружение всех подключенных Android-устройств и генерация отдельных отчетов для каждого.
- **Генерация HTML и текстовых отчетов**: Структурированные и стилизованные отчеты для удобного просмотра и анализа.
- **Подробные данные о системе**: Включает системные свойства, идентификаторы, аппаратное обеспечение, установленные приложения, состояние батареи, сетевые параметры и многое другое.
- **Расширенная информация**:
  - **Информация о Камерах**: Сведения о камерах устройства.
  - **Статус Bluetooth**: Состояние Bluetooth, подключенные устройства и настройки.
  - **Настройки Безопасности**: Политики безопасности, шифрование, настройки экрана блокировки.
  - **Информация о NFC**: Состояние и настройки NFC.
  - **Конфигурация USB**: Настройки и подключенные USB-устройства.
  - **Информация о VPN**: Текущие VPN-соединения.
  - **Графические Настройки**: Информация о графических ускорителях и производительности.
  - **Фаерволл и IPTables**: Состояние и правила фаерволла.
  - **Настройки Экрана**: Разрешение и плотность экрана.
  - **Информация о SIM-картах**: Состояние SIM-карт, номера телефонов и операторы.
- **Улучшенная обработка ошибок**: Скрипт продолжает работу при возникновении ошибок на отдельных устройствах, логируя их для последующего анализа.
- **Уникальные имена отчетов**: Отчеты сохраняются с уникальными именами файлов, основанными на серийном номере устройства или его идентификаторе.

## Скриншот Отчета

![Sample Report](https://i.imgur.com/YourReportImageLink.png) *(Замените ссылку на актуальное изображение при необходимости)*

## Требования

Перед запуском скрипта убедитесь, что на вашей системе установлены следующие компоненты:

- **Python 3.6+**
- **ADB (Android Debug Bridge)**: [Установка ADB](https://developer.android.com/studio/releases/platform-tools)
- **Необходимые Python-библиотеки**:
  
  ```bash
  pip install -r requirements.txt
  ```
  
  *(Если файл `requirements.txt` отсутствует, установите библиотеки вручную:)*
  
  ```bash
  pip install colorama jinja2
  ```

## Установка

1. **Клонирование Репозитория**

   ```bash
   git clone https://github.com/ваше_имя_пользователя/android-system-info-collector.git
   cd android-system-info-collector
   ```

2. **Установка Зависимостей**

   Убедитесь, что у вас установлен Python 3.6 или выше. Установите необходимые библиотеки:

   ```bash
   pip install -r requirements.txt
   ```

   *(Если файл `requirements.txt` отсутствует, установите библиотеки вручную:)*
   
   ```bash
   pip install colorama jinja2
   ```

3. **Настройка ADB**

   - Убедитесь, что ADB добавлен в переменную окружения `PATH`.
   - Подключите ваше Android-устройство к компьютеру.
   - Включите режим отладки по USB на устройстве.
   - Разрешите доступ к устройству при появлении соответствующего запроса.

## Использование

Запустите скрипт с помощью Python:

```bash
python adb_system_info_enhanced.py
```

### Параметры Командной Строки

Скрипт поддерживает следующие аргументы для гибкой настройки:

- `--output-dir`: Указывает каталог для сохранения отчетов. По умолчанию используется `reports`.

#### Пример:

```bash
python adb_system_info_enhanced.py --output-dir my_reports
```

## Структура Проекта

```
android-system-info-collector/
│
├── adb_system_info_enhanced.py  # Основной скрипт
├── README.md                     # Этот файл
├── requirements.txt              # Список зависимостей
└── reports/                      # Каталог для сохранения отчетов
```

### Описание Файлов

- **adb_system_info_enhanced.py**: Основной Python-скрипт для сбора информации и генерации отчетов.
- **README.md**: Документация проекта.
- **requirements.txt**: Список необходимых Python-библиотек.
- **reports/**: Каталог, в котором сохраняются сгенерированные HTML и текстовые отчеты для каждого устройства.

## Подробное Описание Скрипта

### Основные Классы

#### 1. `SystemInfoCollector`

Класс отвечает за сбор всей необходимой информации о системе Android через ADB. При инициализации принимает идентификатор устройства.

**Методы:**

- `run_adb_command(command)`: Выполняет ADB-команду для указанного устройства и возвращает результат.
- `get_system_properties()`: Получает все системные свойства устройства.
- `get_build_info()`: Сбор информации о сборке системы.
- `get_hardware_info()`: Получает информацию о процессоре и памяти устройства.
- `get_installed_apps()`: Список установленных приложений.
- `get_storage_info()`: Информация о хранилище устройства.
- `get_battery_info()`: Состояние батареи.
- `get_network_interfaces()`: Список сетевых интерфейсов.
- `get_ip_addresses()`: IP-адреса устройства.
- `get_wifi_info()`: Информация о Wi-Fi подключениях.
- `get_system_settings()`: Системные настройки.
- `get_display_info()`: Информация о дисплее.
- `get_sensor_info()`: Информация о датчиках.
- `get_cpu_usage()`: Использование CPU.
- `get_memory_usage()`: Использование памяти.
- `get_running_services()`: Список запущенных сервисов.
- `get_running_processes()`: Список запущенных процессов.
- `get_device_identifiers()`: Идентификаторы устройства (Android ID, серийный номер, IMEI, MAC-адреса).
- `get_introduction()`: Основная информация о устройстве для введения.
- **Дополнительные методы для сбора расширенной информации:**
  - `get_camera_info()`: Информация о камерах устройства.
  - `get_bluetooth_info()`: Информация о Bluetooth.
  - `get_security_settings()`: Настройки безопасности устройства.
  - `get_nfc_info()`: Информация о NFC.
  - `get_usb_config()`: Конфигурация USB.
  - `get_vpn_info()`: Информация о VPN.
  - `get_graphics_info()`: Графические настройки.
  - `get_firewall_info()`: Информация о фаерволле.
  - `get_screen_settings()`: Разрешение и плотность экрана.
  - `get_sim_info()`: Информация о SIM-картах.
  - `get_usb_details()`: Подробная информация о USB-подключениях.
  
- `collect_all_info()`: Сбор всей информации и возврат в виде словаря.

#### 2. `ReportGenerator`

Класс отвечает за генерацию и сохранение отчетов в HTML и текстовом формате.

**Методы:**

- `get_descriptions()`: Возвращает словарь с описаниями параметров.
- `get_template()`: Возвращает HTML-шаблон для отчета.
- `generate_html_report()`: Генерирует HTML-отчет с использованием шаблона и собранной информации.
- `print_report()`: Выводит информацию в консоль с цветовой подсветкой.
- `save_html_report(filename)`: Сохраняет HTML-отчет в указанный файл.
- `save_text_report(filename)`: Сохраняет текстовый отчет в указанный файл.

### Обработка Нескольких Устройств

Скрипт автоматически обнаруживает все подключенные устройства и генерирует для каждого из них отдельные отчеты. Отчеты сохраняются с уникальными именами файлов, основанными на серийном номере устройства или его идентификаторе.

### Улучшенная Обработка Ошибок

- Скрипт продолжает работу при возникновении ошибок на отдельных устройствах, логируя их и переходя к следующему устройству.
- Добавлены дополнительные проверки и `try-except` блоки в методах класса `SystemInfoCollector` для предотвращения прерывания скрипта из-за отдельных ошибок.

## Дополнительные Возможности Сбора Информации

### 1. Информация о Камерах

- **Описание**: Получение сведений о камерах устройства, включая количество камер, их характеристики и статус.
- **Команды**:
  ```bash
  adb shell dumpsys media.camera
  adb shell getprop persist.camera.HAL3.enabled
  ```

### 2. Статус Bluetooth

- **Описание**: Информация о состоянии Bluetooth, включая включение/выключение, подключенные устройства и настройки.
- **Команды**:
  ```bash
  adb shell dumpsys bluetooth_manager
  adb shell dumpsys bluetooth_adapter
  ```

### 3. Настройки Безопасности

- **Описание**: Сбор информации о настройках безопасности, таких как шифрование устройства, настройки экрана блокировки и политики безопасности.
- **Команды**:
  ```bash
  adb shell dumpsys devicepolicy
  ```

### 4. Информация о NFC

- **Описание**: Состояние NFC и его настройки.
- **Команды**:
  ```bash
  adb shell dumpsys nfc
  ```

### 5. Конфигурация USB

- **Описание**: Информация о конфигурации USB-подключений.
- **Команды**:
  ```bash
  adb shell dumpsys usb
  ```

### 6. Информация о VPN

- **Описание**: Информация о текущих VPN-соединениях.
- **Команды**:
  ```bash
  adb shell dumpsys vpn
  ```

### 7. Графические Настройки

- **Описание**: Сведения о графических настройках устройства.
- **Команды**:
  ```bash
  adb shell dumpsys gfxinfo
  ```

### 8. Фаерволл и Правила IPTables

- **Описание**: Состояние и правила фаерволла.
- **Команды**:
  ```bash
  adb shell iptables -L
  ```

### 9. Настройки Экрана

- **Описание**: Разрешение и плотность экрана.
- **Команды**:
  ```bash
  adb shell wm size
  adb shell wm density
  ```

### 10. Информация о SIM-картах

- **Описание**: Состояние SIM-карт, номера телефонов и сетевые операторы.
- **Команды**:
  ```bash
  adb shell dumpsys telephony.registry
  ```

### 11. Подробная Информация о USB Подключениях

- **Описание**: Подробная информация о подключенных USB-устройствах.
- **Команды**:
  ```bash
  adb shell lsusb
  ```

## Примеры Использования

### Одно Устройство

Если подключено одно устройство, скрипт сгенерирует:

- `reports/system_report_<serial_number>.html`
- `reports/system_report_<serial_number>.txt`

### Несколько Устройств

Если подключено несколько устройств, для каждого из них будут сгенерированы отдельные отчеты:

- `reports/system_report_ABC123.html`
- `reports/system_report_ABC123.txt`
- `reports/system_report_DEF456.html`
- `reports/system_report_DEF456.txt`
- И так далее...

## Вклад

Если вы хотите внести свой вклад в развитие проекта, следуйте этим шагам:

1. **Форк Репозиторий**

   Нажмите кнопку "Fork" в верхнем правом углу страницы репозитория.

2. **Клонирование Форкнутого Репозитория**

   ```bash
   git clone https://github.com/ваше_имя_пользователя/android-system-info-collector.git
   cd android-system-info-collector
   ```

3. **Создание Ветки для Изменений**

   ```bash
   git checkout -b feature/имя_фичи
   ```

4. **Внесение Изменений и Коммит**

   ```bash
   git add .
   git commit -m "Описание изменений"
   ```

5. **Пуш Изменений в Форкнутый Репозиторий**

   ```bash
   git push origin feature/имя_фичи
   ```

6. **Создание Pull Request**

   Перейдите в ваш форкнутый репозиторий на GitHub и нажмите кнопку "Compare & pull request".

## Лицензия

Этот проект лицензирован под лицензией [MIT](LICENSE).

## Благодарности

- [Jinja2](https://jinja.palletsprojects.com/) — для генерации HTML-отчетов.
- [Colorama](https://pypi.org/project/colorama/) — для цветовой подсветки в консоли.
- [Tabulate](https://pypi.org/project/tabulate/) — для форматирования таблиц в консольном выводе.
- Сообщество разработчиков ADB и Android за предоставление инструментов для взаимодействия с устройствами.

## Контакты

Если у вас есть вопросы или предложения по улучшению проекта, пожалуйста, создайте [issue](https://github.com/ваше_имя_пользователя/android-system-info-collector/issues) или свяжитесь с нами по электронной почте: [ваш_email@example.com](mailto:ваш_email@example.com).

---

## Пример Файла `requirements.txt`

Для удобства установки зависимостей вы можете добавить файл `requirements.txt` с содержимым:

```
colorama==0.4.6
jinja2==3.1.2
```

## Пример Команд для Установки

Если вы используете виртуальное окружение, рекомендуется создать его перед установкой зависимостей:

```bash
python3 -m venv venv
source venv/bin/activate  # Для Unix/Linux
venv\Scripts\activate     # Для Windows
pip install -r requirements.txt
```

## Дополнительные Улучшения

1. **Добавление Диаграмм и Визуализаций**

   Для более наглядного представления данных можно интегрировать библиотеки JavaScript, такие как [Chart.js](https://www.chartjs.org/), для визуализации использования CPU и памяти.

2. **Расширение Описаний**

   Дополните словарь `descriptions` описаниями для всех параметров, чтобы сделать отчеты более информативными.

3. **Интерактивные Элементы**

   Добавьте возможности поиска или фильтрации секций с помощью JavaScript для улучшения взаимодействия пользователя с отчетом.

4. **Поддержка Дополнительных Форматов Отчетов**

   Реализуйте возможность генерации отчетов в форматах JSON или CSV для дальнейшего анализа.

5. **Использование Аргументов Командной Строки**

   Добавьте возможность выбора, какие секции собирать или в каком формате сохранять отчет, используя библиотеку `argparse`.

6. **Безопасность и Конфиденциальность**

   Убедитесь, что собранные данные хранятся в безопасном месте и не передаются третьим лицам без разрешения.

---

## Пример Запуска Скрипта

```bash
python adb_system_info_enhanced.py --output-dir my_reports
```

**Ожидаемый Вывод в Консоли:**

```
2024-10-16 22:08:39,417 - INFO - Найдено устройств: ['127.0.0.1:6555', '127.0.0.1:6562']
2024-10-16 22:08:39,425 - ERROR - Ошибка при выполнении adb команды 'shell getprop ro.product.model' для устройства 127.0.0.1:6555: adb: more than one device/emulator
2024-10-16 22:08:39,425 - ERROR - Ошибка при сборе информации для устройства 127.0.0.1:6555: ADB command failed: shell getprop ro.product.model
2024-10-16 22:08:39,432 - ERROR - Неизвестная ошибка при обработке устройства 127.0.0.1:6555: 'dict object' has no attribute 'Introduction'
...
```

### Решение Ошибки

Ошибка возникла из-за того, что команда ADB не указала конкретное устройство при выполнении команды. В обновленном скрипте каждая команда выполняется с указанием устройства через опцию `-s <device>`, что должно решить проблему. Убедитесь, что скрипт правильно обрабатывает список подключенных устройств и выполняет команды для каждого устройства отдельно.

Если ошибка все еще возникает, проверьте:

1. **Подключение Устройств**: Убедитесь, что все устройства правильно подключены и распознаны ADB.
2. **Уникальность Идентификаторов**: Проверьте, что идентификаторы устройств уникальны и корректны.
3. **Права Доступа**: Некоторые команды могут требовать повышенных привилегий (root-доступ). Убедитесь, что ваше устройство предоставляет необходимые права для выполнения всех команд.

## Заключение

Этот обновленный скрипт предоставляет расширенные возможности по сбору информации о системе Android через ADB. Он способен собирать широкий спектр данных, включая информацию о камерах, Bluetooth, безопасности, NFC, VPN, графических настройках и многое другое. Генерация отдельных отчетов для каждого подключенного устройства делает скрипт удобным для использования в средах с несколькими устройствами.

Если у вас возникнут дополнительные вопросы или потребуется помощь с модификацией скрипта, пожалуйста, не стесняйтесь обращаться!

```

---

### Примечания

- **Замените ссылки на изображения**: Убедитесь, что вы заменили ссылки на изображения (`YourImageLink.png`, `YourReportImageLink.png`) на актуальные ссылки или удалите их, если изображения отсутствуют.
- **Обновите контакты и ссылки**: Замените `ваше_имя_пользователя`, `ваш_email@example.com` на актуальные данные.
- **Добавьте файл `LICENSE`**: Если вы используете лицензию MIT, убедитесь, что файл `LICENSE` присутствует в репозитории.
- **Дополните `requirements.txt`**: Убедитесь, что файл `requirements.txt` содержит все необходимые зависимости.

---

## Ссылки

- [ADB (Android Debug Bridge) - Официальная Документация](https://developer.android.com/studio/command-line/adb)
- [Jinja2 - Официальная Документация](https://jinja.palletsprojects.com/)
- [Colorama - Официальная Документация](https://pypi.org/project/colorama/)
- [GitHub - Создание Репозитория](https://docs.github.com/en/get-started/quickstart/create-a-repo)
- [MIT License](https://opensource.org/licenses/MIT)

---

## Пример Команд для Установки

Если вы используете виртуальное окружение, рекомендуется создать его перед установкой зависимостей:

```bash
python3 -m venv venv
source venv/bin/activate  # Для Unix/Linux
venv\Scripts\activate     # Для Windows
pip install -r requirements.txt
```

---

## Обратная Связь и Поддержка

Если у вас возникли проблемы с использованием скрипта или вы нашли баг, пожалуйста, создайте [issue](https://github.com/ваше_имя_пользователя/android-system-info-collector/issues) в репозитории. Мы ценим вашу обратную связь и стремимся улучшить проект с каждым вкладом!

---

*Спасибо за использование **Android System Information Collector**!*

```